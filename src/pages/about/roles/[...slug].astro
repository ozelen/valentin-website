---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import { getCollection, render } from 'astro:content';

export async function getStaticPaths() {
	const roles = await getCollection('roles');
	return roles.map((role) => ({
		params: { slug: role.id },
		props: { role },
	}));
}

const { role } = Astro.props;
const { Content } = await render(role);
---

<BaseLayout
	title={`${role.data.role} - ${role.data.org}`}
	description={`${role.data.role} at ${role.data.org}`}
>
	<div class="container-custom py-16">
		<div class="mb-8">
				<h1 class="text-4xl font-bold text-gray-900 mb-2">{role.data.role}</h1>
				<p class="text-xl text-gray-600">{role.data.org}</p>
			</div>
			
			<div class="prose-custom">
				<Content />
			</div>
			
		<div class="mt-8">
			<a href="/about" class="text-primary-600 hover:text-primary-700 font-medium">
				‚Üê Back to About
			</a>
		</div>
	</div>
</BaseLayout>

